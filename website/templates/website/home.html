{% extends "website/base.html" %}
{% load static %}

{% block title %}Home - Kilinto Industrial Park{% endblock %}

{% block content %}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

<div style="margin:0 2%; margin-top: 56px;">

<!-- home hero -->
<section>
    <div class="carousel slide" data-bs-ride="carousel" data-bs-interval="2000">
        <div class="carousel-inner" style="height: 650px;">
            {% for hero in home_hero %}
            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                <img src="{{ hero.image.url }}" class="d-block w-100" alt="{{ hero.title }}" style="object-fit: cover; height: 100%;">
                <div style="position: absolute; top: 20px; right: 30px; z-index: 10;">
                    <h3 style="color: {{ hero.color_type }}">{{ hero.title }}</h3>
                    <p style="color: {{ hero.color_type }}">{{ hero.description|striptags }}</p>
                </div>
            </div>

            {% empty %}
                <div class="carousel-item active d-flex align-items-center justify-content-center" style="height: 100%;">
                    <p class="lead">No data available at the moment.</p>
                </div>
            {% endfor %}
        </div>

        <button class="carousel-control-prev" type="button" data-bs-target="#bottomCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#bottomCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
        </button>
    </div>
</section>
<!-- Quick Stats -->

<section class="py-2">
    <div class="container">
        <h4 class="fw-bold text-center py-4">Quick Stats</h4>

        <div class="row justify-content-center g-5 ">
            {% for stat in stats %}
            <div class="col-md-3 d-flex justify-content-center">
                <div class="card border-0 shadow-lg h-100 text-center " style="width:250px;">
                    <div class="card-body">
                        <i class="{{ stat.icon_type }} fa-2x mb-3 text-success"></i><br>
                        <strong>{{ stat.title }}</strong><br>
                        <strong>{{ stat.value }}</strong><br>
                        <p class="mb-0">{{ stat.description|striptags }}</p>
                    </div>
                    <div class="card-footer bg-success p-0" style="height: 0.5rem;"></div>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center">
                <p class="lead">No quick stat data available at the moment.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>


<!-- News Highlights -->
<section class="py-4 bg-light " style="margin-top:2%">
        <div class="container">
        <h4 class="fw-bold text-center " style="margin-bottom:2%">Latest News</h4>


        <div class="row justify-content-center g-4"> <!-- Center the row -->
            {% for article in highlights %}
            <div class="col-md-4 d-flex justify-content-center"> <!-- Center the card -->
                <div class="card h-100">
                    {% if article.image %}
                        <img src="{{ article.image.url }}" class="card-img-top" alt="{{ article.title }}">
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-title">{{ article.title }}</h5>
                        <p class="card-text">{{ article.content|striptags|truncatewords:20 }}</p>
                    </div>
                    <div class="card-footer bg-transparent">
                        <a href="{% url 'news_detail' article.slug %}" class="btn btn-success">Read More</a>
                    </div>
                    <div class="card-footer bg-success p-0" style="height: 0.5rem;"></div>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center">
                <p class="lead">No update news at the moment.</p>
            </div>
            {% endfor %}
        </div>
    </div>
        <div class="container mt-2">
            <h4 class="fw-bold text-center " style="margin-bottom:2%; margin-top:2%;">Upcoming Events</h4>
            <div class="row justify-content-center g-4"> <!-- Center the row -->

                {% for event in upcoming_events %}

                   <div class="col-md-4 d-flex justify-content-center"> <!-- Center the card -->
                    <div class="card h-100" style="width: 26rem; ">
                        {% if event.image %}
                            <img src="{{ event.image.url }}" class="card-img-top" alt="{{ event.title }}">
                        {% endif %}
                        <div class="card-body">
                            <h5 class="card-title">{{ event.title }}</h5>
                            <p class="card-text">
                                <i class="far fa-calendar-alt me-2 me-2 text-success"></i>
                                {{ event.start_date|date:"F d, Y" }} - {{ event.end_date|date:"F d, Y" }}
                            </p>
                            <p class="card-text">
                                <i class="fas fa-map-marker-alt me-2 me-2 text-success"></i>
                                {{ event.location }}
                            </p>

                            <p class="card-text text-center mb-0 mt-0">{{ event.description|safe }}</p>

                        </div>

<!--                        <div class="card-footer bg-transparent">-->
<!--                        -->
<!--                            {% if event.registration_link %}-->
<!--                            <a href="{{ event.registration_link }}" class="btn btn-primary" target="_blank">Register Now</a>-->
<!--                            {% endif %}-->
<!--                        </div>-->
                        <div class="card-footer bg-success p-0" style="height: 0.5rem;"></div>
                    </div>
                </div>
                {% empty %}
                <div class="col-12 text-center">
                    <p class="lead">No upcoming events at the moment.</p>
                </div>
                {% endfor %}
        </div>
    </div>

</section>
 </div>
{% endblock %}